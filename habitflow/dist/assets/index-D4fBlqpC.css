.tab-bar{position:fixed;bottom:0;left:0;right:0;height:var(--tab-bar-height);background-color:var(--bg-elevated);border-top:1px solid var(--separator);display:flex;justify-content:space-around;align-items:flex-start;padding-top:var(--space-2);padding-bottom:var(--safe-area-bottom);z-index:100;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);background-color:rgba(var(--bg-elevated-rgb, 255, 255, 255),.85)}[data-theme=dark] .tab-bar{background-color:#1c1c1ed9}.tab-bar__item{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-1);padding:var(--space-1) var(--space-3);min-width:64px;min-height:var(--touch-target-min);text-decoration:none;color:var(--gray-1);transition:color var(--transition-fast);-webkit-tap-highlight-color:transparent}.tab-bar__item:focus-visible{outline:2px solid var(--color-blue);outline-offset:-2px;border-radius:var(--radius-sm)}.tab-bar__item--active{color:var(--color-blue)}.tab-bar__item:not(.tab-bar__item--active):active{opacity:.7}.tab-bar__icon{flex-shrink:0;transition:transform var(--transition-fast)}.tab-bar__item--active .tab-bar__icon{transform:scale(1.05)}.tab-bar__label{font-size:var(--text-caption-2);font-weight:500;text-align:center}@media (max-width: 350px){.tab-bar__label{display:none}.tab-bar__item{min-width:48px}}.app-shell{display:flex;flex-direction:column;min-height:100vh;min-height:100dvh;background-color:var(--bg-grouped)}.app-shell__content{flex:1;padding-bottom:calc(var(--tab-bar-height) + var(--safe-area-bottom));overflow-y:auto;-webkit-overflow-scrolling:touch}.page{min-height:100%;padding:var(--space-4);padding-top:calc(var(--safe-area-top) + var(--space-4));max-width:600px;margin:0 auto}.page__header{margin-bottom:var(--space-6)}.page__title{font-size:var(--text-large-title);font-weight:700;color:var(--text-primary);margin:0 0 var(--space-1);letter-spacing:-.5px}.page__subtitle{font-size:var(--text-callout);color:var(--text-secondary);margin:0}.page__section{margin-bottom:var(--space-8)}.page__section-title{font-size:var(--text-footnote);font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin:0 0 var(--space-3) var(--space-4)}.habit-checkbox{position:relative;width:32px;height:32px;border-radius:var(--radius-full);border:2px solid var(--gray-3);background-color:transparent;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;-webkit-tap-highlight-color:transparent;flex-shrink:0}.habit-checkbox:focus-visible{outline:2px solid var(--color-blue);outline-offset:2px}.habit-checkbox:disabled{opacity:.5;cursor:not-allowed}.habit-checkbox--blue.habit-checkbox--completed{background-color:var(--color-blue);border-color:var(--color-blue)}.habit-checkbox--green.habit-checkbox--completed{background-color:var(--color-green);border-color:var(--color-green)}.habit-checkbox--red.habit-checkbox--completed{background-color:var(--color-red);border-color:var(--color-red)}.habit-checkbox--orange.habit-checkbox--completed{background-color:var(--color-orange);border-color:var(--color-orange)}.habit-checkbox--purple.habit-checkbox--completed{background-color:var(--color-purple);border-color:var(--color-purple)}.habit-checkbox--pink.habit-checkbox--completed{background-color:var(--color-pink);border-color:var(--color-pink)}.habit-checkbox--teal.habit-checkbox--completed{background-color:var(--color-teal);border-color:var(--color-teal)}.habit-checkbox--indigo.habit-checkbox--completed{background-color:var(--color-indigo);border-color:var(--color-indigo)}.habit-checkbox__inner{display:flex;align-items:center;justify-content:center;color:#fff}.habit-checkbox__count{font-size:var(--text-caption-1);font-weight:600;color:var(--text-secondary)}.habit-checkbox--completed .habit-checkbox__count{color:#fff}.habit-checkbox__progress{position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;width:calc(100% + 8px);height:calc(100% + 8px)}.habit-checkbox__progress-bg{stroke:var(--gray-4)}.habit-checkbox__progress-fill{stroke:var(--color-blue);stroke-linecap:round;transition:stroke-dasharray .3s ease}.habit-checkbox--green .habit-checkbox__progress-fill{stroke:var(--color-green)}.habit-checkbox--red .habit-checkbox__progress-fill{stroke:var(--color-red)}.habit-checkbox--orange .habit-checkbox__progress-fill{stroke:var(--color-orange)}.habit-checkbox--purple .habit-checkbox__progress-fill{stroke:var(--color-purple)}.habit-checkbox--pink .habit-checkbox__progress-fill{stroke:var(--color-pink)}.habit-checkbox--teal .habit-checkbox__progress-fill{stroke:var(--color-teal)}.habit-checkbox--indigo .habit-checkbox__progress-fill{stroke:var(--color-indigo)}.habit-checkbox--animating{animation:checkBounce .4s cubic-bezier(.175,.885,.32,1.275)}.habit-checkbox:not(:disabled):not(.habit-checkbox--completed):hover{border-color:var(--gray-2);background-color:var(--fill-tertiary)}.habit-checkbox:not(:disabled):active{transform:scale(.95)}.habit-card{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-4);background-color:var(--bg-elevated);transition:opacity var(--transition-fast)}.habit-card--completed{opacity:.75}.habit-card__main{flex:1;display:flex;align-items:center;gap:var(--space-3);background:none;border:none;padding:0;cursor:pointer;text-align:left;min-height:var(--touch-target-min);-webkit-tap-highlight-color:transparent}.habit-card__main:focus-visible{outline:2px solid var(--color-blue);outline-offset:2px;border-radius:var(--radius-sm)}.habit-card__icon{width:40px;height:40px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;flex-shrink:0;color:#fff}.habit-card__icon--blue{background-color:var(--color-blue)}.habit-card__icon--green{background-color:var(--color-green)}.habit-card__icon--red{background-color:var(--color-red)}.habit-card__icon--orange{background-color:var(--color-orange)}.habit-card__icon--purple{background-color:var(--color-purple)}.habit-card__icon--pink{background-color:var(--color-pink)}.habit-card__icon--teal{background-color:var(--color-teal)}.habit-card__icon--indigo{background-color:var(--color-indigo)}.habit-card__content{flex:1;min-width:0}.habit-card__name{font-size:var(--text-body);font-weight:500;color:var(--text-primary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.habit-card--completed .habit-card__name{text-decoration:line-through;color:var(--text-secondary)}.habit-card__meta{display:flex;align-items:center;gap:var(--space-3);margin-top:var(--space-1)}.habit-card__streak{display:inline-flex;align-items:center;gap:var(--space-1);font-size:var(--text-footnote);color:var(--color-orange);font-weight:500}.habit-card__streak-icon{flex-shrink:0}.habit-card__progress-text{font-size:var(--text-footnote);color:var(--text-tertiary)}.habit-card__chevron{color:var(--text-quaternary);flex-shrink:0}.habit-card__checkbox{flex-shrink:0}@media (hover: none){.habit-card__chevron{display:none}}.button{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-2);border:none;border-radius:var(--radius-md);font-family:var(--font-system);font-weight:600;cursor:pointer;transition:all var(--transition-fast);min-height:var(--touch-target-min);-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none}.button:focus-visible{outline:2px solid var(--color-blue);outline-offset:2px}.button:disabled{opacity:.5;cursor:not-allowed}.button--sm{padding:var(--space-2) var(--space-3);font-size:var(--text-subhead);min-height:36px;border-radius:var(--radius-sm)}.button--md{padding:var(--space-3) var(--space-5);font-size:var(--text-body)}.button--lg{padding:var(--space-4) var(--space-6);font-size:var(--text-headline);min-height:52px}.button--primary{background-color:var(--color-blue);color:#fff}.button--primary:hover:not(:disabled){filter:brightness(1.1)}.button--primary:active:not(:disabled){filter:brightness(.95);transform:scale(.98)}.button--secondary{background-color:var(--fill-secondary);color:var(--text-primary)}.button--secondary:hover:not(:disabled){background-color:var(--fill-primary)}.button--secondary:active:not(:disabled){transform:scale(.98)}.button--destructive{background-color:var(--color-red);color:#fff}.button--destructive:hover:not(:disabled){filter:brightness(1.1)}.button--destructive:active:not(:disabled){filter:brightness(.95);transform:scale(.98)}.button--ghost{background-color:transparent;color:var(--color-blue)}.button--ghost:hover:not(:disabled){background-color:var(--fill-tertiary)}.button--ghost:active:not(:disabled){background-color:var(--fill-secondary)}.button--full-width{width:100%}.button--loading{position:relative;color:transparent}.button__spinner{position:absolute;display:flex;align-items:center;justify-content:center}.button__spinner-svg{width:20px;height:20px;animation:spin 1s linear infinite}.button__spinner-svg circle{stroke:currentColor;stroke-dasharray:50;stroke-dashoffset:20;stroke-linecap:round}.button--primary .button__spinner-svg circle,.button--destructive .button__spinner-svg circle{stroke:#fff}.button--secondary .button__spinner-svg circle,.button--ghost .button__spinner-svg circle{stroke:var(--color-blue)}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.button__icon{flex-shrink:0}.button__icon--left{margin-right:var(--space-1)}.button__icon--right{margin-left:var(--space-1)}.card{background-color:var(--bg-elevated);border-radius:var(--radius-md);border:none;width:100%;text-align:left;font-family:var(--font-system)}.card--padding-none{padding:0}.card--padding-sm{padding:var(--space-3)}.card--padding-md{padding:var(--space-4)}.card--padding-lg{padding:var(--space-5)}.card--hoverable{transition:transform var(--transition-fast),box-shadow var(--transition-fast)}.card--hoverable:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.card--clickable{cursor:pointer;-webkit-tap-highlight-color:transparent}.card--clickable:active{transform:scale(.98)}.card__header{display:flex;align-items:flex-start;justify-content:space-between;gap:var(--space-3);margin-bottom:var(--space-3)}.card__header-text{flex:1;min-width:0}.card__title{font-size:var(--text-headline);font-weight:600;color:var(--text-primary);margin:0}.card__subtitle{font-size:var(--text-subhead);color:var(--text-secondary);margin:var(--space-1) 0 0}.card__header-action{flex-shrink:0}.card__content{color:var(--text-primary)}.card-group{margin-bottom:var(--space-6)}.card-group__title{font-size:var(--text-footnote);font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin:0 0 var(--space-2) var(--space-4)}.card-group__cards{background-color:var(--bg-elevated);border-radius:var(--radius-md);overflow:hidden}.card-group__cards>*:not(:last-child){border-bottom:1px solid var(--separator)}.sheet-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background-color:var(--overlay-bg);display:flex;align-items:flex-end;justify-content:center;z-index:1000;animation:fadeIn .2s ease-out}.sheet{background-color:var(--bg-elevated);border-radius:var(--radius-xl) var(--radius-xl) 0 0;width:100%;max-width:100%;max-height:90vh;display:flex;flex-direction:column;animation:slideUp .3s var(--spring-smooth);outline:none}@media (min-width: 768px){.sheet{max-width:540px;margin:0 auto;border-radius:var(--radius-xl);margin-bottom:var(--space-8);max-height:85vh}}.sheet--sm{max-height:50vh}.sheet--md{max-height:70vh}.sheet--lg{max-height:85vh}.sheet--full{max-height:95vh;border-radius:var(--radius-lg) var(--radius-lg) 0 0}@media (min-width: 768px){.sheet--full{max-height:90vh}}.sheet__grabber{width:36px;height:5px;background-color:var(--gray-3);border-radius:var(--radius-full);margin:var(--space-2) auto var(--space-3);flex-shrink:0}.sheet__header{display:flex;align-items:center;justify-content:space-between;padding:0 var(--space-5) var(--space-4);border-bottom:1px solid var(--separator);flex-shrink:0}.sheet__title{font-size:var(--text-headline);font-weight:600;color:var(--text-primary);margin:0;flex:1;text-align:center}.sheet__close{position:absolute;right:var(--space-4);background-color:var(--fill-secondary);border:none;border-radius:var(--radius-full);width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text-secondary);transition:background-color var(--transition-fast)}.sheet__close:hover{background-color:var(--fill-primary)}.sheet__content{flex:1;overflow-y:auto;padding:var(--space-5);-webkit-overflow-scrolling:touch}@keyframes slideUp{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}.switch-container{display:flex;align-items:center;justify-content:space-between;gap:var(--space-3)}.switch-label{font-size:var(--text-body);color:var(--text-primary);cursor:pointer}.switch{position:relative;width:51px;height:31px;background-color:var(--fill-primary);border:none;border-radius:var(--radius-full);cursor:pointer;transition:background-color .25s ease;-webkit-tap-highlight-color:transparent;flex-shrink:0}.switch:focus-visible{outline:2px solid var(--color-blue);outline-offset:2px}.switch--checked{background-color:var(--color-green)}.switch--disabled{opacity:.5;cursor:not-allowed}.switch__thumb{position:absolute;top:2px;left:2px;width:27px;height:27px;background-color:#fff;border-radius:var(--radius-full);box-shadow:0 2px 4px #0003;transition:transform .25s cubic-bezier(.25,.1,.25,1)}.switch--checked .switch__thumb{transform:translate(20px)}.switch:active:not(.switch--disabled) .switch__thumb{width:31px}.switch--checked:active:not(.switch--disabled) .switch__thumb{transform:translate(16px)}.input-wrapper{display:flex;flex-direction:column;gap:var(--space-2)}.input-label{font-size:var(--text-subhead);font-weight:500;color:var(--text-secondary)}.input-container{position:relative;display:flex;align-items:center}.input{width:100%;padding:var(--space-3) var(--space-4);font-size:var(--text-body);font-family:var(--font-system);color:var(--text-primary);background-color:var(--fill-tertiary);border:1px solid transparent;border-radius:var(--radius-md);outline:none;transition:border-color var(--transition-fast),background-color var(--transition-fast);min-height:var(--touch-target-min)}.input::placeholder{color:var(--text-tertiary)}.input:focus{border-color:var(--color-blue);background-color:var(--bg-primary)}.input:disabled{opacity:.5;cursor:not-allowed}.input--textarea{min-height:100px;resize:vertical;line-height:var(--leading-body)}.input-wrapper--error .input{border-color:var(--color-red)}.input-error{font-size:var(--text-footnote);color:var(--color-red)}.input-clear{position:absolute;right:var(--space-3);background-color:var(--fill-secondary);border:none;border-radius:var(--radius-full);width:20px;height:20px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text-tertiary);transition:background-color var(--transition-fast)}.input-clear:hover{background-color:var(--fill-primary)}.select-wrapper{position:relative}.select{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;padding:var(--space-3) var(--space-10) var(--space-3) var(--space-4);font-size:var(--text-body);font-family:var(--font-system);color:var(--text-primary);background-color:var(--fill-tertiary);border:1px solid transparent;border-radius:var(--radius-md);cursor:pointer;min-height:var(--touch-target-min)}.select:focus{outline:none;border-color:var(--color-blue)}.select-icon{position:absolute;right:var(--space-4);top:50%;transform:translateY(-50%);pointer-events:none;color:var(--text-tertiary)}.segmented-control{display:inline-flex;background-color:var(--fill-tertiary);border-radius:var(--radius-sm);padding:2px;gap:2px}.segmented-control--full-width{width:100%}.segmented-control__option{flex:1;padding:var(--space-2) var(--space-4);font-size:var(--text-subhead);font-weight:500;font-family:var(--font-system);color:var(--text-primary);background-color:transparent;border:none;border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-fast);min-height:32px;white-space:nowrap}.segmented-control__option:focus-visible{outline:2px solid var(--color-blue);outline-offset:-2px}.segmented-control__option--active{background-color:var(--bg-elevated);box-shadow:var(--shadow-sm)}.segmented-control__option:not(.segmented-control__option--active):hover{color:var(--color-blue)}.segmented-control__option:not(.segmented-control__option--active):active{background-color:var(--fill-secondary)}.habit-form{display:flex;flex-direction:column;gap:var(--space-5)}.habit-form__section{display:flex;flex-direction:column;gap:var(--space-2)}.habit-form__label{font-size:var(--text-subhead);font-weight:500;color:var(--text-secondary)}.habit-form__icons{display:grid;grid-template-columns:repeat(6,1fr);gap:var(--space-2)}.habit-form__icon-btn{aspect-ratio:1;display:flex;align-items:center;justify-content:center;background-color:var(--fill-tertiary);border:none;border-radius:var(--radius-md);cursor:pointer;color:var(--text-secondary);transition:all var(--transition-fast);min-height:var(--touch-target-min)}.habit-form__icon-btn:hover{background-color:var(--fill-secondary)}.habit-form__icon-btn--active{color:#fff}.habit-form__colors{display:flex;gap:var(--space-3);flex-wrap:wrap}.habit-form__color-btn{width:36px;height:36px;border-radius:var(--radius-full);border:3px solid transparent;cursor:pointer;transition:transform var(--transition-fast)}.habit-form__color-btn:hover{transform:scale(1.1)}.habit-form__color-btn--active{border-color:var(--text-primary)}.habit-form__color-btn--blue{background-color:var(--color-blue)}.habit-form__color-btn--green{background-color:var(--color-green)}.habit-form__color-btn--red{background-color:var(--color-red)}.habit-form__color-btn--orange{background-color:var(--color-orange)}.habit-form__color-btn--purple{background-color:var(--color-purple)}.habit-form__color-btn--pink{background-color:var(--color-pink)}.habit-form__color-btn--teal{background-color:var(--color-teal)}.habit-form__color-btn--indigo{background-color:var(--color-indigo)}.habit-form__days{display:flex;gap:var(--space-2)}.habit-form__day-btn{flex:1;padding:var(--space-2) var(--space-1);font-size:var(--text-footnote);font-weight:600;font-family:var(--font-system);color:var(--text-secondary);background-color:var(--fill-tertiary);border:none;border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-fast);min-height:36px}.habit-form__day-btn:hover{background-color:var(--fill-secondary)}.habit-form__day-btn--active{color:#fff}.habit-form__count{display:flex;align-items:center;justify-content:center;gap:var(--space-4)}.habit-form__count-btn{width:44px;height:44px;font-size:var(--text-title-2);font-weight:500;color:var(--color-blue);background-color:var(--fill-tertiary);border:none;border-radius:var(--radius-full);cursor:pointer;transition:background-color var(--transition-fast)}.habit-form__count-btn:hover:not(:disabled){background-color:var(--fill-secondary)}.habit-form__count-btn:disabled{opacity:.3;cursor:not-allowed}.habit-form__count-value{font-size:var(--text-title-1);font-weight:600;color:var(--text-primary);min-width:40px;text-align:center}.habit-form__actions{display:flex;flex-direction:column;gap:var(--space-3);margin-top:var(--space-4)}.stat-card{background-color:var(--bg-elevated);border-radius:var(--radius-md);padding:var(--space-4);display:flex;flex-direction:column;gap:var(--space-2)}.stat-card__icon{width:36px;height:36px;border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;color:#fff;margin-bottom:var(--space-1)}.stat-card__icon--blue{background-color:var(--color-blue)}.stat-card__icon--green{background-color:var(--color-green)}.stat-card__icon--orange{background-color:var(--color-orange)}.stat-card__icon--purple{background-color:var(--color-purple)}.stat-card__icon--red{background-color:var(--color-red)}.stat-card__content{display:flex;flex-direction:column}.stat-card__title{font-size:var(--text-footnote);color:var(--text-secondary);font-weight:500}.stat-card__value{font-size:var(--text-title-1);font-weight:700;color:var(--text-primary);line-height:1.2;margin-top:var(--space-1)}.stat-card__footer{display:flex;align-items:center;gap:var(--space-2);margin-top:var(--space-1)}.stat-card__trend{display:inline-flex;align-items:center;gap:2px;font-size:var(--text-caption-1);font-weight:600}.stat-card__trend--up{color:var(--color-green)}.stat-card__trend--down{color:var(--color-red)}.stat-card__trend--neutral{color:var(--text-tertiary)}.stat-card__subtitle{font-size:var(--text-caption-1);color:var(--text-tertiary)}.weekly-chart{background-color:var(--bg-elevated);border-radius:var(--radius-md);padding:var(--space-4)}.weekly-chart__bars{display:flex;justify-content:space-between;align-items:flex-end;gap:var(--space-2);height:160px}.weekly-chart__bar-container{flex:1;display:flex;flex-direction:column;align-items:center;gap:var(--space-2);height:100%}.weekly-chart__bar-container--today .weekly-chart__label{color:var(--color-blue);font-weight:600}.weekly-chart__bar-wrapper{flex:1;width:100%;max-width:32px;background-color:var(--fill-tertiary);border-radius:var(--radius-sm);position:relative;display:flex;flex-direction:column;justify-content:flex-end;overflow:hidden}.weekly-chart__target-line{position:absolute;left:-2px;right:-2px;height:2px;background-color:var(--gray-2);border-radius:var(--radius-full);z-index:1}.weekly-chart__bar{width:100%;border-radius:var(--radius-sm);transition:height .5s cubic-bezier(.25,.1,.25,1);display:flex;align-items:flex-start;justify-content:center;padding-top:var(--space-1);min-height:4px}.weekly-chart__bar--blue{background-color:var(--color-blue)}.weekly-chart__bar--green{background-color:var(--color-green)}.weekly-chart__bar--orange{background-color:var(--color-orange)}.weekly-chart__bar--purple{background-color:var(--color-purple)}.weekly-chart__complete-indicator{font-size:var(--text-caption-2);color:#fff;font-weight:700}.weekly-chart__label{font-size:var(--text-caption-1);color:var(--text-secondary);font-weight:500}.heatmap{background-color:var(--bg-elevated);border-radius:var(--radius-md);padding:var(--space-4)}.heatmap__container{display:flex;gap:var(--space-2);overflow-x:auto;padding-bottom:var(--space-2);-webkit-overflow-scrolling:touch}.heatmap__day-labels{display:flex;flex-direction:column;gap:3px;flex-shrink:0}.heatmap__day-label{height:12px;font-size:9px;color:var(--text-tertiary);display:flex;align-items:center}.heatmap__grid{display:flex;gap:3px}.heatmap__week{display:flex;flex-direction:column;gap:3px}.heatmap__cell{width:12px;height:12px;border-radius:2px;border:none;cursor:pointer;transition:transform var(--transition-fast);padding:0}.heatmap__cell:disabled{cursor:default;opacity:.3}.heatmap__cell:not(:disabled):hover{transform:scale(1.3)}.heatmap__cell--intensity-0{background-color:var(--fill-tertiary)}.heatmap__cell--green.heatmap__cell--intensity-1{background-color:#34c7594d}.heatmap__cell--green.heatmap__cell--intensity-2{background-color:#34c75980}.heatmap__cell--green.heatmap__cell--intensity-3{background-color:#34c759b3}.heatmap__cell--green.heatmap__cell--intensity-4{background-color:var(--color-green)}.heatmap__cell--blue.heatmap__cell--intensity-1{background-color:#007aff4d}.heatmap__cell--blue.heatmap__cell--intensity-2{background-color:#007aff80}.heatmap__cell--blue.heatmap__cell--intensity-3{background-color:#007affb3}.heatmap__cell--blue.heatmap__cell--intensity-4{background-color:var(--color-blue)}.heatmap__cell--orange.heatmap__cell--intensity-1{background-color:#ff95004d}.heatmap__cell--orange.heatmap__cell--intensity-2{background-color:#ff950080}.heatmap__cell--orange.heatmap__cell--intensity-3{background-color:#ff9500b3}.heatmap__cell--orange.heatmap__cell--intensity-4{background-color:var(--color-orange)}.heatmap__cell--purple.heatmap__cell--intensity-1{background-color:#af52de4d}.heatmap__cell--purple.heatmap__cell--intensity-2{background-color:#af52de80}.heatmap__cell--purple.heatmap__cell--intensity-3{background-color:#af52deb3}.heatmap__cell--purple.heatmap__cell--intensity-4{background-color:var(--color-purple)}.heatmap__legend{display:flex;align-items:center;justify-content:flex-end;gap:var(--space-2);margin-top:var(--space-3)}.heatmap__legend-label{font-size:var(--text-caption-2);color:var(--text-tertiary)}.heatmap__legend-cells{display:flex;gap:2px}.heatmap__legend-cell{width:12px;height:12px;border-radius:2px}.progress-ring{position:relative;display:inline-flex;align-items:center;justify-content:center}.progress-ring__svg{transform:rotate(0)}.progress-ring__bg{stroke:var(--fill-tertiary)}.progress-ring__progress{transition:stroke-dashoffset .8s cubic-bezier(.25,.1,.25,1)}.progress-ring__progress--blue{stroke:var(--color-blue)}.progress-ring__progress--green{stroke:var(--color-green)}.progress-ring__progress--orange{stroke:var(--color-orange)}.progress-ring__progress--purple{stroke:var(--color-purple)}.progress-ring__progress--red{stroke:var(--color-red)}.progress-ring__content{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.progress-ring__value{font-size:var(--text-title-2);font-weight:700;color:var(--text-primary);line-height:1}.progress-ring__label{font-size:var(--text-caption-1);color:var(--text-secondary);margin-top:var(--space-1)}.today-page__header{margin-bottom:var(--space-6)}.today-page__date-nav{display:flex;align-items:center;justify-content:space-between;gap:var(--space-2)}.today-page__nav-btn{width:44px;height:44px;display:flex;align-items:center;justify-content:center;background:none;border:none;color:var(--color-blue);cursor:pointer;border-radius:var(--radius-full);transition:background-color var(--transition-fast)}.today-page__nav-btn:hover{background-color:var(--fill-tertiary)}.today-page__nav-btn:disabled{opacity:.3;cursor:not-allowed}.today-page__date{flex:1;display:flex;flex-direction:column;align-items:center;background:none;border:none;cursor:pointer;padding:var(--space-2);border-radius:var(--radius-md);transition:background-color var(--transition-fast)}.today-page__date:hover:not(:disabled){background-color:var(--fill-tertiary)}.today-page__date:disabled{cursor:default}.today-page__title{font-size:var(--text-title-2);font-weight:700;color:var(--text-primary);margin:0}.today-page__today-hint{font-size:var(--text-caption-1);color:var(--color-blue);margin-top:var(--space-1)}.today-page__progress{display:flex;align-items:center;gap:var(--space-5);background-color:var(--bg-elevated);border-radius:var(--radius-lg);padding:var(--space-5);margin-bottom:var(--space-6)}.today-page__progress-text{flex:1;display:flex;flex-direction:column;gap:var(--space-1)}.today-page__progress-title{font-size:var(--text-headline);font-weight:600;color:var(--text-primary)}.today-page__progress-subtitle{font-size:var(--text-subhead);color:var(--text-secondary)}.today-page__loading{display:flex;flex-direction:column;gap:var(--space-2)}.today-page__skeleton{height:72px;background:linear-gradient(90deg,var(--fill-tertiary) 0%,var(--fill-secondary) 50%,var(--fill-tertiary) 100%);background-size:200% 100%;border-radius:var(--radius-md);animation:shimmer 1.5s infinite}.today-page__empty{display:flex;flex-direction:column;align-items:center;text-align:center;padding:var(--space-10) var(--space-4)}.today-page__empty-icon{font-size:64px;margin-bottom:var(--space-4)}.today-page__empty-title{font-size:var(--text-title-2);font-weight:700;color:var(--text-primary);margin:0 0 var(--space-2)}.today-page__empty-text{font-size:var(--text-body);color:var(--text-secondary);margin:0 0 var(--space-6);max-width:280px}.today-page__fab{position:fixed;bottom:calc(var(--tab-bar-height) + var(--space-4) + var(--safe-area-bottom));right:var(--space-4);width:56px;height:56px;background-color:var(--color-blue);color:#fff;border:none;border-radius:var(--radius-full);display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:var(--shadow-lg);transition:transform var(--transition-fast),box-shadow var(--transition-fast);z-index:50}.today-page__fab:hover{transform:scale(1.05);box-shadow:var(--shadow-xl)}.today-page__fab:active{transform:scale(.95)}.today-page__habits{min-height:200px}.habits-page__filter{margin-bottom:var(--space-6)}.habits-page__list{min-height:200px}.habits-page__item{display:flex;align-items:center;padding:var(--space-3) var(--space-4)}.habits-page__item-main{flex:1;display:flex;align-items:center;gap:var(--space-3);background:none;border:none;padding:0;cursor:pointer;text-align:left;min-height:var(--touch-target-min)}.habits-page__item-main:focus-visible{outline:2px solid var(--color-blue);outline-offset:2px;border-radius:var(--radius-sm)}.habits-page__item-icon{width:40px;height:40px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;flex-shrink:0;color:#fff}.habits-page__item-icon--blue{background-color:var(--color-blue)}.habits-page__item-icon--green{background-color:var(--color-green)}.habits-page__item-icon--red{background-color:var(--color-red)}.habits-page__item-icon--orange{background-color:var(--color-orange)}.habits-page__item-icon--purple{background-color:var(--color-purple)}.habits-page__item-icon--pink{background-color:var(--color-pink)}.habits-page__item-icon--teal{background-color:var(--color-teal)}.habits-page__item-icon--indigo{background-color:var(--color-indigo)}.habits-page__item-content{flex:1;display:flex;flex-direction:column;gap:var(--space-1);min-width:0}.habits-page__item-name{font-size:var(--text-body);font-weight:500;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.habits-page__item-meta{font-size:var(--text-footnote);color:var(--text-secondary)}.habits-page__item-actions{display:flex;gap:var(--space-1)}.habits-page__action-btn{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:none;border:none;color:var(--text-tertiary);cursor:pointer;border-radius:var(--radius-sm);transition:all var(--transition-fast)}.habits-page__action-btn:hover{background-color:var(--fill-tertiary);color:var(--text-secondary)}.habits-page__action-btn--restore:hover{color:var(--color-green)}.habits-page__action-btn--delete:hover{color:var(--color-red)}.habits-page__empty{display:flex;flex-direction:column;align-items:center;text-align:center;padding:var(--space-10) var(--space-4)}.habits-page__empty-icon{font-size:64px;margin-bottom:var(--space-4)}.habits-page__empty-title{font-size:var(--text-title-2);font-weight:700;color:var(--text-primary);margin:0 0 var(--space-2)}.habits-page__empty-text{font-size:var(--text-body);color:var(--text-secondary);margin:0 0 var(--space-6)}.habits-page__fab{position:fixed;bottom:calc(var(--tab-bar-height) + var(--space-4) + var(--safe-area-bottom));right:var(--space-4);width:56px;height:56px;background-color:var(--color-blue);color:#fff;border:none;border-radius:var(--radius-full);display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:var(--shadow-lg);transition:transform var(--transition-fast),box-shadow var(--transition-fast);z-index:50}.habits-page__fab:hover{transform:scale(1.05)}.habits-page__fab:active{transform:scale(.95)}.analytics-page__filter{margin-bottom:var(--space-6)}.analytics-page__stats{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-3);margin-bottom:var(--space-6)}.analytics-page__section{margin-bottom:var(--space-6)}.analytics-page__section-title{font-size:var(--text-footnote);font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin:0 0 var(--space-3) var(--space-1)}.analytics-page__breakdown{background-color:var(--bg-elevated);border-radius:var(--radius-md);padding:var(--space-4);display:flex;flex-direction:column;gap:var(--space-4)}.analytics-page__habit-row{display:flex;align-items:center;gap:var(--space-3)}.analytics-page__habit-name{font-size:var(--text-subhead);color:var(--text-primary);width:100px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-shrink:0}.analytics-page__habit-bar-container{flex:1;height:8px;background-color:var(--fill-tertiary);border-radius:var(--radius-full);overflow:hidden}.analytics-page__habit-bar{height:100%;border-radius:var(--radius-full);transition:width .5s ease}.analytics-page__habit-bar--blue{background-color:var(--color-blue)}.analytics-page__habit-bar--green{background-color:var(--color-green)}.analytics-page__habit-bar--red{background-color:var(--color-red)}.analytics-page__habit-bar--orange{background-color:var(--color-orange)}.analytics-page__habit-bar--purple{background-color:var(--color-purple)}.analytics-page__habit-bar--pink{background-color:var(--color-pink)}.analytics-page__habit-bar--teal{background-color:var(--color-teal)}.analytics-page__habit-bar--indigo{background-color:var(--color-indigo)}.analytics-page__habit-rate{font-size:var(--text-footnote);font-weight:600;color:var(--text-secondary);width:40px;text-align:right}.analytics-page__empty{display:flex;flex-direction:column;align-items:center;text-align:center;padding:var(--space-10) var(--space-4)}.analytics-page__empty-icon{font-size:64px;margin-bottom:var(--space-4)}.analytics-page__empty-title{font-size:var(--text-title-2);font-weight:700;color:var(--text-primary);margin:0 0 var(--space-2)}.analytics-page__empty-text{font-size:var(--text-body);color:var(--text-secondary);margin:0}.settings-page__section{margin-bottom:var(--space-8)}.settings-page__section-title{font-size:var(--text-footnote);font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin:0 0 var(--space-3) var(--space-4)}.settings-page__theme-options{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-3);padding:var(--space-4)}.settings-page__theme-btn{display:flex;flex-direction:column;align-items:center;gap:var(--space-2);padding:var(--space-4);background-color:var(--fill-tertiary);border:2px solid transparent;border-radius:var(--radius-md);cursor:pointer;color:var(--text-secondary);transition:all var(--transition-fast);font-family:var(--font-system);font-size:var(--text-footnote);font-weight:500}.settings-page__theme-btn:hover{background-color:var(--fill-secondary)}.settings-page__theme-btn--active{border-color:var(--color-blue);color:var(--color-blue);background-color:#007aff1a}.settings-page__row{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-3) var(--space-4);background:none;border:none;width:100%;text-align:left;font-family:var(--font-system)}.settings-page__row--clickable{cursor:pointer;transition:background-color var(--transition-fast)}.settings-page__row--clickable:hover{background-color:var(--fill-tertiary)}.settings-page__row--clickable:active{background-color:var(--fill-secondary)}.settings-page__row-icon{width:32px;height:32px;border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;flex-shrink:0;color:#fff}.settings-page__row-icon--blue{background-color:var(--color-blue)}.settings-page__row-icon--green{background-color:var(--color-green)}.settings-page__row-icon--red{background-color:var(--color-red)}.settings-page__row-icon--gray{background-color:var(--gray-1)}.settings-page__row-content{flex:1;display:flex;flex-direction:column;gap:2px}.settings-page__row-label{font-size:var(--text-body);color:var(--text-primary)}.settings-page__row-label--danger{color:var(--color-red)}.settings-page__row-desc{font-size:var(--text-footnote);color:var(--text-secondary)}.settings-page__file-input{display:none}.settings-page__footer{text-align:center;padding:var(--space-6) var(--space-4);color:var(--text-tertiary);font-size:var(--text-footnote)}.settings-page__footer p{margin:var(--space-1) 0}:root{--font-system: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;--font-mono: "SF Mono", SFMono-Regular, Consolas, "Liberation Mono", monospace;--text-large-title: 34px;--text-title-1: 28px;--text-title-2: 22px;--text-title-3: 20px;--text-headline: 17px;--text-body: 17px;--text-callout: 16px;--text-subhead: 15px;--text-footnote: 13px;--text-caption-1: 12px;--text-caption-2: 11px;--leading-large-title: 41px;--leading-title-1: 34px;--leading-title-2: 28px;--leading-title-3: 25px;--leading-headline: 22px;--leading-body: 22px;--leading-callout: 21px;--leading-subhead: 20px;--leading-footnote: 18px;--leading-caption-1: 16px;--leading-caption-2: 13px;--space-1: 4px;--space-2: 8px;--space-3: 12px;--space-4: 16px;--space-5: 20px;--space-6: 24px;--space-8: 32px;--space-10: 40px;--space-12: 48px;--space-16: 64px;--radius-xs: 4px;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 20px;--radius-2xl: 24px;--radius-full: 9999px;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .04);--shadow-md: 0 4px 12px rgba(0, 0, 0, .08);--shadow-lg: 0 8px 24px rgba(0, 0, 0, .12);--shadow-xl: 0 16px 48px rgba(0, 0, 0, .16);--transition-fast: .15s ease;--transition-normal: .25s ease;--transition-slow: .4s ease;--spring-bounce: cubic-bezier(.175, .885, .32, 1.275);--spring-smooth: cubic-bezier(.25, .1, .25, 1);--touch-target-min: 44px;--safe-area-top: env(safe-area-inset-top, 0px);--safe-area-bottom: env(safe-area-inset-bottom, 0px);--tab-bar-height: 83px;--nav-bar-height: 44px}:root,[data-theme=light]{--bg-primary: #FFFFFF;--bg-secondary: #F2F2F7;--bg-tertiary: #FFFFFF;--bg-grouped: #F2F2F7;--bg-elevated: #FFFFFF;--text-primary: #000000;--text-secondary: rgba(60, 60, 67, .85);--text-tertiary: rgba(60, 60, 67, .6);--text-quaternary: rgba(60, 60, 67, .3);--color-blue: #007AFF;--color-green: #34C759;--color-red: #FF3B30;--color-orange: #FF9500;--color-yellow: #FFCC00;--color-purple: #AF52DE;--color-pink: #FF2D55;--color-teal: #5AC8FA;--color-indigo: #5856D6;--gray-1: #8E8E93;--gray-2: #AEAEB2;--gray-3: #C7C7CC;--gray-4: #D1D1D6;--gray-5: #E5E5EA;--gray-6: #F2F2F7;--separator: rgba(60, 60, 67, .29);--separator-opaque: #C6C6C8;--fill-primary: rgba(120, 120, 128, .2);--fill-secondary: rgba(120, 120, 128, .16);--fill-tertiary: rgba(118, 118, 128, .12);--overlay-bg: rgba(0, 0, 0, .4)}[data-theme=dark]{--bg-primary: #000000;--bg-secondary: #1C1C1E;--bg-tertiary: #2C2C2E;--bg-grouped: #000000;--bg-elevated: #1C1C1E;--text-primary: #FFFFFF;--text-secondary: rgba(235, 235, 245, .85);--text-tertiary: rgba(235, 235, 245, .6);--text-quaternary: rgba(235, 235, 245, .3);--color-blue: #0A84FF;--color-green: #30D158;--color-red: #FF453A;--color-orange: #FF9F0A;--color-yellow: #FFD60A;--color-purple: #BF5AF2;--color-pink: #FF375F;--color-teal: #64D2FF;--color-indigo: #5E5CE6;--gray-1: #8E8E93;--gray-2: #636366;--gray-3: #48484A;--gray-4: #3A3A3C;--gray-5: #2C2C2E;--gray-6: #1C1C1E;--separator: rgba(84, 84, 88, .65);--separator-opaque: #38383A;--fill-primary: rgba(120, 120, 128, .36);--fill-secondary: rgba(120, 120, 128, .32);--fill-tertiary: rgba(118, 118, 128, .24);--overlay-bg: rgba(0, 0, 0, .6);--shadow-sm: 0 1px 2px rgba(0, 0, 0, .2);--shadow-md: 0 4px 12px rgba(0, 0, 0, .3);--shadow-lg: 0 8px 24px rgba(0, 0, 0, .4)}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}body{font-family:var(--font-system);font-size:var(--text-body);line-height:var(--leading-body);color:var(--text-primary);background-color:var(--bg-grouped);min-height:100vh;min-height:100dvh;overflow-x:hidden}#root{min-height:100vh;min-height:100dvh}.text-large-title{font-size:var(--text-large-title);line-height:var(--leading-large-title);font-weight:700;letter-spacing:-.5px}.text-title-1{font-size:var(--text-title-1);line-height:var(--leading-title-1);font-weight:700;letter-spacing:-.3px}.text-title-2{font-size:var(--text-title-2);line-height:var(--leading-title-2);font-weight:700}.text-title-3{font-size:var(--text-title-3);line-height:var(--leading-title-3);font-weight:600}.text-headline{font-size:var(--text-headline);line-height:var(--leading-headline);font-weight:600}.text-body{font-size:var(--text-body);line-height:var(--leading-body);font-weight:400}.text-callout{font-size:var(--text-callout);line-height:var(--leading-callout);font-weight:400}.text-subhead{font-size:var(--text-subhead);line-height:var(--leading-subhead);font-weight:400}.text-footnote{font-size:var(--text-footnote);line-height:var(--leading-footnote);font-weight:400}.text-caption-1{font-size:var(--text-caption-1);line-height:var(--leading-caption-1);font-weight:400}.text-caption-2{font-size:var(--text-caption-2);line-height:var(--leading-caption-2);font-weight:400}.text-primary{color:var(--text-primary)}.text-secondary{color:var(--text-secondary)}.text-tertiary{color:var(--text-tertiary)}.text-blue{color:var(--color-blue)}.text-green{color:var(--color-green)}.text-red{color:var(--color-red)}.text-orange{color:var(--color-orange)}.flex{display:flex}.flex-col{flex-direction:column}.flex-row{flex-direction:row}.items-center{align-items:center}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.flex-1{flex:1}.flex-wrap{flex-wrap:wrap}.gap-1{gap:var(--space-1)}.gap-2{gap:var(--space-2)}.gap-3{gap:var(--space-3)}.gap-4{gap:var(--space-4)}.gap-6{gap:var(--space-6)}.gap-8{gap:var(--space-8)}.p-2{padding:var(--space-2)}.p-3{padding:var(--space-3)}.p-4{padding:var(--space-4)}.p-5{padding:var(--space-5)}.px-4{padding-left:var(--space-4);padding-right:var(--space-4)}.py-2{padding-top:var(--space-2);padding-bottom:var(--space-2)}.py-3{padding-top:var(--space-3);padding-bottom:var(--space-3)}.py-4{padding-top:var(--space-4);padding-bottom:var(--space-4)}.mt-2{margin-top:var(--space-2)}.mt-4{margin-top:var(--space-4)}.mt-6{margin-top:var(--space-6)}.mb-2{margin-bottom:var(--space-2)}.mb-4{margin-bottom:var(--space-4)}.mb-6{margin-bottom:var(--space-6)}.w-full{width:100%}.max-w-lg{max-width:600px}.mx-auto{margin-left:auto;margin-right:auto}.rounded-sm{border-radius:var(--radius-sm)}.rounded-md{border-radius:var(--radius-md)}.rounded-lg{border-radius:var(--radius-lg)}.rounded-xl{border-radius:var(--radius-xl)}.rounded-full{border-radius:var(--radius-full)}:focus-visible{outline:2px solid var(--color-blue);outline-offset:2px}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--gray-3);border-radius:var(--radius-full)}::-webkit-scrollbar-thumb:hover{background:var(--gray-2)}::selection{background:var(--color-blue);color:#fff}html{overscroll-behavior-y:contain}.safe-area-top{padding-top:var(--safe-area-top)}.safe-area-bottom{padding-bottom:var(--safe-area-bottom)}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes checkBounce{0%{transform:scale(1)}30%{transform:scale(1.25)}50%{transform:scale(.95)}70%{transform:scale(1.05)}to{transform:scale(1)}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.animate-fade-in{animation:fadeIn .3s ease-out}.animate-slide-up{animation:slideUp .4s var(--spring-bounce)}.animate-scale-in{animation:scaleIn .3s var(--spring-bounce)}.animate-check-bounce{animation:checkBounce .4s var(--spring-bounce)}@media (prefers-reduced-motion: reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}
